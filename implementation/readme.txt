Необходимые предварительные действия перед сборкой проекта




1. Установить Microsoft Visual Studio 2008 (VS 2008)

	При установки необходимо убедиться, что будет установлена поддержка для 
	64-битной сборки.
	При установки с дистрибутива DVG, необходимо отключить все опции связанные с 
	установкой Crystall Reports.

	После установки необходимо создать конфигурацию x64:

	- Запустить VS 2008;
	- В панели инструментов из второго выпадающего списка выбрать "Диспетчер конфигураций...";
	- Из выпадающего списка "Активная платформа решения:" выбрать "<Создать...>";
	- Из выпадающего списка "Введите или выберите новую платформу:" выбрать "х64";
	- Нажать на кнопку "ОК";
	- Нажать на кнопку "Закрыть".




2. Установить Qt 4.8.6 для Windows под VS 2008

	Можно скачать из http://download.qt-project.org/official_releases/qt/4.8/4.8.6/qt-everywhere-opensource-src-4.8.6.tar.gz

	Распаковать архив.

	Сборку необходимо производить из 64-битной командной строки VS 2008 и из распакованного каталога.

	Для сборки необходимо выполнить следующие команды:

	- configure
                В процессе выполнения данной команды пользователю будет 
                предложено в консоли ответить на некоторые вопросы. 
                На вопрос: Which edition of Qt do you want to use ?
                            Type 'c' if you want to use the Commercial Edition.
                            Type 'o' if you want to use the Open Source Edition.
                необходимо ввести в консоли букву 'o'.
                На вопрос: Do you accept the terms of the license?
                необходимо ввести в консоли букву 'y'.
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	- nmake
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	Закрываем 64-битную строку VS 2008.

	В файле project\modules\userenv.bat прописать переменную QTDIR (путь к каталогу 
	установки Qt. Например: set QTDIR=C:\Qt\qt-everywhere-opensource-src-4.8.6).





3. Установить CMake 2.8.12 - кроссплатформенную систему автоматизации сборки 
программного обеспечения. 

	Можно скачать из http://www.cmake.org/files/v2.8/cmake-2.8.12-rc1-win32-x86.exe

	При установки все опции оставить по умолчанию.



    
4. Скачать и установить CUDA Toolkit (одну из двух для ноута или десктопа)

   CUDA имеет разные дистрибутивы для работы на персональной ЭВМ и для работы 
   на ноутбуке. 
   
   Для работы на персональной ЭВМ библиотеку можно скачать из:
        http://developer.download.nvidia.com/compute/cuda/5_5/rel/installers/cuda_5.5.20_winvista_win7_win8_general_64.exe
        
   Для работы на ноутбуке библиотеку можно скачать из:
        http://developer.download.nvidia.com/compute/cuda/5_5/rel/installers/cuda_5.5.20_winvista_win7_win8_notebook_64.exe
        
   При установке все опции необходимо оставить без изменения. 
   После установки папку C:\NVIDIA\CUDA можно удалить (это была временная папка).
   
   В файле ice\modules\userenv.bat прописать переменную CUDA_TOOL55 (путь к 
   каталогу установки CUDA до каталога v5.5 включительно, 
   например: set CUDA_TOOL55=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v5.5)



   
5. Установить библиотеку OpenCV 2.4.8

	Можно скачать из http://sourceforge.net/projects/opencvlibrary/files/opencv-win/2.4.8/opencv-2.4.8.exe/download

	Распаковать архив с помощью команды в командной строке : opencv-2.4.8.exe -o -y

	Сборку необходимо производить из 64-битной командной строки VS 2008 и из 
	распакованного каталога.

	Для сборки необходимо выполнить следующие команды:

	Перейти в подкаталог opencv\build\x64
	- mkdir vc9
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	- cd vc9
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	- "C:\Program Files (x86)\CMake 2.8\bin\cmake" ..\..\..\sources -G "NMake Makefiles"
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.
    В консоли необходимо найти следующие строки:
            --   NVIDIA CUDA
            --     Use CUFFT:                   YES
            --     Use CUBLAS:                  NO
            --     USE NVCUVID:                 NO
            --     NVIDIA GPU arch:             11 12 13 20 21 30 35
            --     NVIDIA PTX archs:            30
            --     Use fast math:               NO
    Если в консоле таких строк не найдено, см. ПРИМЕЧАНИЕ 1 в конце этого 
    документа.

	- nmake
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	- "C:\Program Files (x86)\CMake 2.8\bin\cmake" ..\..\..\sources -DCMAKE_BUILD_TYPE=Release -G "NMake Makefiles"
	- echo %ERRORLEVEL%
    
    В консоли необходимо найти следующие строки:
            --   NVIDIA CUDA
            --     Use CUFFT:                   YES
            --     Use CUBLAS:                  NO
            --     USE NVCUVID:                 NO
            --     NVIDIA GPU arch:             11 12 13 20 21 30 35
            --     NVIDIA PTX archs:            30
            --     Use fast math:               NO
    Если в консоле таких строк не найдено, см. ПРИМЕЧАНИЕ 1 в конце этого 
    документа.
    
	- nmake
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	Закрываем 64-битную строку VS 2008.

	В файле ice\modules\userenv.bat прописать переменную OPENCV248 (путь к 
	каталогу сборки OpenCV без x64\vc9, например: set OPENCV248=D:\DVG\opencv\build)




6. Установить библиотеку Boost версии 1.47.0

	Можно скачать из http://sourceforge.net/projects/boost/files/boost/1.47.0/boost_1_47_0.zip/download

	Перед сборкой необходимо распаковать загруженный архив и запустить на 
	выполнение файл: bootstrap.bat

	Сборку необходимо производить из 64-битной командной строки VS 2008 и из 
	распакованного каталога.

	Для сборки необходимо выполнить следующие команды:

	- bjam --toolset=msvc-9.0 address-model=64 --build-type=complete --stagedir=lib\x64 stage 
	- echo %ERRORLEVEL%   

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	Закрываем 64-битную строку VS 2008.

	Все собранные библиотеки будут находится в паке .\lib\x64\lib.
	Заголовочные файлы находятся в папке .\boost.

	В файле ice\modules\userenv.bat прописать переменную BOOST1470 на папку, 
	где происходила сборка библиотеки (например: set BOOST1470=D:\DVG\boost_1_47_0)




7. Установить СУБД PostgreSQL версии 9.3.3-1

	Дистрибутив СУБД PostgreSQL версии 9.3.3-1 находиться в папке ..\setup\opo

	В процессе установки пользователя и пароль пропишите как: postgres

	В файле ice\modules\userenv.bat прописать переменную PGSQL9331 на папку, 
	куда была установлена СУБД PostgreSQL версии 9.3.3-1 (например: 
	set PGSQL9331=C:\Program Files\PostgreSQL\9.3)




8. Установить CodeSynthesis ODB версии 2.3.0 - инструмент для генерации 
исходного кода работы с базой данных

	8.1. ODB Compiler можно скачать из http://codesynthesis.com/download/odb/2.3/odb-2.3.0-i686-windows.zip

		Распаковать архив.

		В файле ice\modules\userenv.bat прописать переменную CODESYN_ODB_BIN230 
		на распакованную папку (например: set CODESYN_ODB_BIN230=D:\DVG\odb-2.3.0-i686-windows).


	8.2. Common Runtime Library - http://codesynthesis.com/download/odb/2.3/libodb-2.3.0.zip

		Распаковать архив.

		Сборку необходимо производить из 64-битной командной строки VS 2008 и из 
		распакованного каталога.

		Для сборки необходимо выполнить следующие команды:

		Перейти в каталог libodb-2.3.0
		- devenv libodb-vc9.sln /build "Debug|x64"
		- echo %ERRORLEVEL%

		В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
		см. ПРИМЕЧАНИЕ 1 в конце этого документа.

		- devenv libodb-vc9.sln /build "Release|x64"
		- echo %ERRORLEVEL%

		В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
		см. ПРИМЕЧАНИЕ 1 в конце этого документа.

		В файле ice\modules\userenv.bat прописать переменную CODESYN_ODB_COMMON230 
		на распакованный каталог (например: set CODESYN_ODB_COMMON230=D:\DVG\libodb-2.3.0).

		Закрываем 64-битную строку VS 2008.


	8.3. Database Runtime Library для PostgreSQL - http://codesynthesis.com/download/odb/2.3/libodb-pgsql-2.3.1.zip

		Распаковать архив.

		Сборку необходимо производить из 64-битной командной строки VS 2008 и из 
		распакованного каталога.

		Для сборки необходимо выполнить следующие команды:

		Перейти в каталог implementation\ice\modules\
		- запустить файл adaptive.bat       
		Перейти в каталог libodb-pgsql-2.3.1
		- devenv libodb-pgsql-vc9.sln /build "Debug|x64" /useenv
		- echo %ERRORLEVEL% 

		В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
		см. ПРИМЕЧАНИЕ 1 в конце этого документа.

		- devenv libodb-pgsql-vc9.sln /build "Release|x64" /useenv
		- echo %ERRORLEVEL% 

		В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
		см. ПРИМЕЧАНИЕ 1 в конце этого документа.

		В файле ice\modules\userenv.bat прописать переменную CODESYN_ODB_PGSQL231 
		на распакованный каталог (например: set CODESYN_ODB_PGSQL231=D:\DVG\libodb-pgsql-2.3.1)

		Закрываем 64-битную строку VS 2008.


	8.4. Database Runtime Library для Qt - http://codesynthesis.com/download/odb/2.3/libodb-qt-2.3.1.zip

		Распаковать архив.

		Сборку необходимо производить из 64-битной командной строки VS 2008 и из 
		распакованного каталога.

		Для сборки необходимо выполнить следующие команды:

		Перейти в каталог implementation\ice\modules\
		- запустить файл adaptive.bat    
		Перейти в каталог libodb-qt-2.3.1
		- devenv libodb-qt4-vc9.sln /build "Debug|x64" /useenv
		- echo %ERRORLEVEL%

		В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
		см. ПРИМЕЧАНИЕ 1 в конце этого документа.

		- devenv libodb-qt4-vc9.sln /build "Release|x64" /useenv
		- echo %ERRORLEVEL%

		В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
		см. ПРИМЕЧАНИЕ 1 в конце этого документа.

		В файле ice\modules\userenv.bat прописать переменную CODESYN_ODB_QT231 на 
		распакованный каталог (например: set CODESYN_ODB_QT231=D:\DVG\libodb-qt-2.3.1)

		Закрываем 64-битную строку VS 2008.




9. Установить библиотеку QJson

	Можно скачать из https://github.com/flavio/qjson/archive/master.zip

	Распаковать архив.

	Сборку необходимо производить из 64-битной командной строки VS 2008 и из 
	распакованного каталога.

	Для сборки необходимо выполнить следующие команды:

	Перейти в каталог implementation\ice\modules\
	- запустить файл adaptive.bat
	Перейти в подкаталог qjson-master каталога, куда был распакован архив
	- "C:\Program Files (x86)\CMake 2.8\bin\cmake" -G "NMake Makefiles"
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	- nmake
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	- "C:\Program Files (x86)\CMake 2.8\bin\cmake" -G "NMake Makefiles" -DCMAKE_BUILD_TYPE=Release -G "NMake Makefiles"
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	- nmake
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	В файле ice\modules\userenv.bat прописать переменную QJSON на каталог src 
	сборки QJson (например: set QJSON=D:\DVG\qjson-master\src).

	Закрываем 64-битную строку VS 2008.




10. Установить библиотеку Qwt 6.1

	Можно скачать из http://cznic.dl.sourceforge.net/project/qwt/qwt/6.1.0/qwt-6.1.0.zip

	Распаковать архив.

	Сборку необходимо производить из 64-битной командной строки VS 2008 и из 
	распакованного каталога.

	Для сборки необходимо выполнить следующие команды:

	Скопировать файл qwt_scale_widget.cpp из каталога adaptive\qwt в каталог, 
	куда был разархивирован архив в папку src (копирование файлв необходимо 
	производитьс заменой файла).

	Перейти в каталог implementation\ice\modules\
	- запустить файл adaptive.bat
	Перейти в каталог, куда был разархивирован архив
	- qmake
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	- nmake
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	В файле ice\modules\userenv.bat прописать переменную QWT610 на каталог, куда
	был распакован архив (например: set QWT610=D:\DVG\qwt-6.1.0).

	Закрываем 64-битную строку VS 2008.




11. Установить библиотеку GDAL 1.11.1

	Можно скачать из http://download.osgeo.org/gdal/1.11.1/gdal1111.zip

	Распаковать архив.

	Сборку необходимо производить из 64-битной командной строки VS 2008 и из 
	распакованного каталога.

	Для сборки необходимо выполнить следующие команды:

	Перейти в каталог, куда был разархивирован архив
	- nmake /f makefile.vc WIN64=YES
	- mkdir Release
	- nmake /f makefile.vc devinstall WIN64=YES GDAL_HOME="%CD%\Release"
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	- nmake /f makefile.vc clean
	- nmake /f makefile.vc WIN64=YES DEBUG=1
	- mkdir Debug
	- nmake /f makefile.vc devinstall WIN64=YES DEBUG=1 GDAL_HOME="%CD%\Debug"
	- echo %ERRORLEVEL%

	В консоли должно быть значение 0. Если в консоли значение, отличное от 0 
	см. ПРИМЕЧАНИЕ 1 в конце этого документа.

	В файле ice\modules\userenv.bat прописать переменную GDAL1111 на каталог, куда
	был распакован архив (например: set set GDAL1111=D:\DVG\gdal-1.11.1).

	Закрываем 64-битную строку VS 2008.

D:\DVG\gdal-1.11.1\Release\bin>gdal_translate -b 1 -b 2 -b 3 -b mask 2014_04_15_02polygon_15smpix.jpg 2014_04_15_02polygon_15smpix.tif




12. Установка doxygen версии 1.8.6

	Можно скачать из http://ftp.stack.nl/pub/users/dimitri/doxygen-1.8.6-setup.exe
